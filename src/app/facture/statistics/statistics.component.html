<section class="row">
  <div class="col-12 col-lg-12">
    <div class="row" style="justify-content: center; padding-bottom: 50px;">
      <div class="col-6 col-lg-2 col-md-6">
        <div class="card">
          <div class="card-body px-3 py-4-5">
            <div class="row">
              <div class="col-md-4">
                <div class="stats-icon purple">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">  <defs/>  <path d="M7.04,0.554 C7.04,0.518 8.218,0.513 11.985,0.532 C14.705,0.546 16.939,0.565 16.948,0.575 C16.965,0.591 16.467,3.236 16.415,3.412 C16.4,3.463 16.789,3.286 17.749,2.805 L19.105,2.127 L19.532,2.984 L19.96,3.84 L18.49,4.578 L17.02,5.316 L18.81,5.318 L20.6,5.32 L20.6,7.239 L18.343,7.25 L16.085,7.26 L19.107,10.62 C20.769,12.468 22.235,14.128 22.366,14.309 C23.064,15.289 23.44,16.463 23.44,17.666 C23.452,19.235 22.813,20.739 21.675,21.82 C20.778,22.685 19.71,23.208 18.452,23.397 C18.051,23.457 5.949,23.457 5.548,23.397 C4.283,23.207 3.21,22.68 2.316,21.812 C1.869,21.393 1.498,20.899 1.22,20.352 C0.98,19.893 0.844,19.536 0.726,19.06 C0.324,17.441 0.656,15.674 1.614,14.338 C1.755,14.141 3.473,12.198 5.432,10.02 L8.993,6.06 L8.744,5.8 C8.3,5.328 7.966,4.764 7.764,4.148 C7.691,3.909 7.04,0.677 7.04,0.554 Z M17.1,11.241 L13.5,7.24 L10.5,7.24 L6.9,11.243 C4.92,13.445 3.222,15.357 3.127,15.493 C2.883,15.843 2.687,16.274 2.572,16.718 C2.446,17.202 2.43,17.966 2.536,18.454 C2.871,19.987 4.027,21.136 5.573,21.469 C5.877,21.535 6.323,21.54 12,21.54 C17.707,21.54 18.121,21.535 18.431,21.469 C19.316,21.285 20.111,20.801 20.679,20.098 C21.265,19.36 21.529,18.606 21.53,17.66 C21.532,16.859 21.341,16.206 20.923,15.577 C20.78,15.363 19.403,13.801 17.1,11.241 Z M11.04,11.074 L11.04,10.12 L12.96,10.12 L12.96,11.04 L14.88,11.04 L14.88,12.96 L13.116,12.96 C11.537,12.96 11.251,12.957 11.133,13.097 C11.104,13.131 11.086,13.172 11.061,13.224 C10.979,13.396 10.984,13.514 11.081,13.672 C11.212,13.887 11.349,13.92 12.117,13.92 C12.49,13.92 12.891,13.94 13.008,13.964 C13.639,14.094 14.31,14.62 14.611,15.22 C14.783,15.564 14.84,15.823 14.84,16.271 C14.84,17.023 14.661,17.46 14.141,17.98 C13.814,18.307 13.502,18.497 13.129,18.598 L12.96,18.643 L12.96,19.64 L11.04,19.64 L11.04,18.68 L9.16,18.68 L9.16,16.811 L10.908,16.781 C12.835,16.749 12.796,16.754 12.905,16.493 C12.98,16.314 12.974,16.203 12.879,16.048 C12.748,15.833 12.611,15.8 11.843,15.8 C11.066,15.8 10.851,15.766 10.46,15.578 C9.834,15.279 9.348,14.699 9.18,14.052 C9.103,13.759 9.103,13.087 9.179,12.8 C9.382,12.039 10.049,11.36 10.81,11.141 L11.04,11.074 Z M14.639,2.467 C14.629,2.456 13.437,2.442 11.99,2.434 C9.515,2.421 9.36,2.424 9.36,2.489 C9.36,2.648 9.573,3.552 9.664,3.777 C9.784,4.075 10.089,4.497 10.326,4.691 C10.803,5.081 11.271,5.269 11.86,5.306 C12.586,5.357 13.298,5.084 13.804,4.561 C14.22,4.145 14.395,3.785 14.547,3.032 C14.608,2.731 14.65,2.477 14.639,2.467 Z"/></svg>
                </div>
              </div>
              <div class="col-md-8">
                <h6 class="text-muted font-semibold">Chiffre d'Affaire HT</h6>
                <h6 class="font-extrabold mb-0">{{ chiffreAffaireHT }}</h6>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-6 col-lg-2 col-md-6">
        <div class="card">
          <div class="card-body px-3 py-4-5">
            <div class="row">
              <div class="col-md-4">
                <div class="stats-icon purple">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">  <defs/>  <path d="M0.56,15.799 L0.56,0.52 L23.44,0.52 L23.44,15.8 L14.88,15.8 L14.88,13.88 L21.56,13.88 L21.56,2.44 L2.44,2.44 L2.44,13.877 L6.51,13.89 C10.215,13.901 10.692,13.889 11.093,14.059 C11.186,14.098 11.275,14.147 11.4,14.209 C11.923,14.489 12.351,14.917 12.631,15.44 C12.925,16.033 12.931,16.078 12.95,17.736 L12.967,19.213 L13.914,18.266 L14.861,17.32 L15.53,17.99 L16.2,18.661 L14.1,20.76 L12,22.86 L9.9,20.76 L7.8,18.661 L8.47,17.99 L9.139,17.32 L10.091,18.27 L11.042,19.22 L11.02,16.454 L10.899,16.258 C10.824,16.137 10.703,16.016 10.582,15.941 L10.386,15.82 L5.473,15.81 L0.56,15.799 Z M11.327,4.402 C11.591,4.376 11.855,4.369 12.12,4.379 C12.796,4.395 13.098,4.466 13.66,4.738 C14.658,5.226 15.398,6.12 15.69,7.192 C15.813,7.639 15.813,8.681 15.69,9.128 C15.398,10.2 14.659,11.095 13.66,11.583 C13.066,11.872 12.772,11.935 12,11.935 C11.228,11.935 10.934,11.872 10.34,11.583 C9.344,11.097 8.628,10.233 8.312,9.136 C8.234,8.864 8.221,8.727 8.221,8.16 C8.221,7.422 8.278,7.14 8.538,6.577 C9.056,5.455 10.134,4.615 11.327,4.402 Z M12.631,6.363 C12.382,6.279 11.912,6.228 11.72,6.265 C10.759,6.45 10.103,7.219 10.103,8.16 C10.098,8.665 10.296,9.15 10.653,9.507 C11.01,9.864 11.495,10.062 12,10.057 C12.505,10.062 12.99,9.864 13.347,9.507 C13.704,9.15 13.902,8.665 13.897,8.16 C13.897,7.35 13.381,6.617 12.631,6.363 Z M4.36,9.12 L4.36,7.2 L6.28,7.2 L6.28,9.12 L4.36,9.12 Z M17.72,9.12 L17.72,7.2 L19.64,7.2 L19.64,9.12 L17.72,9.12 Z"/></svg>
                </div>
              </div>
              <div class="col-md-8">
                <h6 class="text-muted font-semibold">TVA</h6>
                <h6 class="font-extrabold mb-0">{{ chiffreAffaireTVA  }}</h6>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-6 col-lg-2 col-md-6">
        <div class="card">
          <div class="card-body px-3 py-4-5">
            <div class="row">
              <div class="col-md-4">
                <div class="stats-icon purple">
                  <svg xmlns="http://www.w3.org/2000/svg" data-name="Layer 1" viewBox="0 0 24 24">  <defs/>  <path d="M6.153,4.986 C9.336,2.379 11.968,0.248 12.002,0.253 C12.036,0.257 14.667,2.39 17.849,4.994 L23.634,9.727 L23.014,10.484 C22.673,10.9 22.379,11.24 22.36,11.24 C22.342,11.24 22.033,10.999 21.673,10.705 L21.02,10.171 L21.01,16.825 L21,23.48 L3,23.48 L2.99,16.825 L2.98,10.171 L2.327,10.705 C1.967,10.999 1.658,11.24 1.64,11.24 C1.621,11.24 1.327,10.9 0.986,10.484 L0.366,9.727 Z M15.5,5.652 C13.586,4.085 12.011,2.803 12,2.803 C10.828,3.746 9.661,4.696 8.5,5.652 L5.02,8.502 L5.01,15.011 L5,21.52 L19,21.52 L18.99,15.011 L18.98,8.502 Z M11,8.52 L11,6.52 L13,6.52 L13,8.52 L16,8.52 L16,10.477 L13.39,10.488 C10.977,10.499 10.768,10.505 10.62,10.572 C10.264,10.732 10.001,11.127 10.001,11.5 C10.001,11.874 10.266,12.27 10.62,12.427 C10.759,12.488 10.966,12.501 12.2,12.523 C13.7,12.55 13.787,12.561 14.226,12.76 C14.901,13.069 15.439,13.614 15.739,14.293 C15.93,14.712 15.979,14.959 15.979,15.5 C15.979,16.041 15.93,16.288 15.739,16.707 C15.261,17.754 14.221,18.48 13.197,18.48 L13,18.48 L13,20.48 L11,20.48 L11,18.48 L8,18.48 L8,16.523 L10.61,16.512 C13.023,16.501 13.232,16.495 13.38,16.428 C13.736,16.268 13.999,15.873 13.999,15.5 C13.999,15.126 13.734,14.73 13.38,14.573 C13.241,14.512 13.034,14.499 11.8,14.477 C10.304,14.45 10.212,14.439 9.78,14.243 C9.112,13.94 8.594,13.423 8.282,12.749 C8.07,12.291 8.021,12.056 8.021,11.5 C8.021,10.944 8.07,10.709 8.282,10.251 C8.751,9.236 9.794,8.52 10.803,8.52 L11,8.52 Z"/></svg>                </div>
              </div>
              <div class="col-md-8">
                <h6 class="text-muted font-semibold">Chiffre d'Affaire TTC</h6>
                <h6 class="font-extrabold mb-0">{{ chiffreAffaireTTC }}</h6>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-6 col-lg-2 col-md-6">
        <div class="card">
          <div class="card-body px-3 py-4-5">
            <div class="row">
              <div class="col-md-4">
                <div class="stats-icon purple">
                  <svg xmlns="http://www.w3.org/2000/svg" height="30" viewBox="0 0 20 20" width="30"><path d="M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4z"/></svg>                </div>
              </div>
              <div class="col-md-8">
                <h6 class="text-muted font-semibold">Total Payé</h6>
                <h6 class="font-extrabold mb-0">{{ totalPaye }}</h6>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-6 col-lg-2 col-md-6">
        <div class="card">
          <div class="card-body px-3 py-4-5">
            <div class="row">
              <div class="col-md-4">
                <div class="stats-icon purple">
                  <svg xmlns="http://www.w3.org/2000/svg" height="30" viewBox="0 0 20 20" width="30"><path d="M0 0h24v24H0z" fill="none"/><path d="M12.5 6.9c1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-.53.12-1.03.3-1.48.54l1.47 1.47c.41-.17.91-.27 1.51-.27zM5.33 4.06L4.06 5.33 7.5 8.77c0 2.08 1.56 3.21 3.91 3.91l3.51 3.51c-.34.48-1.05.91-2.42.91-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c.96-.18 1.82-.55 2.45-1.12l2.22 2.22 1.27-1.27L5.33 4.06z"/></svg>
                </div>
              </div>
              <div class="col-md-8">
                <h6 class="text-muted font-semibold">Total Impayé</h6>
                <h6 class="font-extrabold mb-0">{{ totalNonPaye }}</h6>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="row" style="justify-content: center;">
        <div style="padding-left: 200px;">
          <table>
            <tr>
              <td style="text-align: center;">Nombre de facture</td>
              <td style="text-align: center;">Total Montant des Factures</td>
            </tr>
            <tr>
              <td> <canvas style="margin-left: 100px; margin-right: 100px;" id="myChart"></canvas></td>
              <td> <canvas style="margin-left: 100px; margin-right: 100px;" id="myChart2"></canvas></td>
            </tr>
          </table>
      </div>
      <div>
        <canvas style="margin:50px;" id="myChart3"></canvas>
      </div>
    </div>
    <div class="row" style="justify-content: center;">
      <div *ngIf="latestFactures && latestFactures.length > 0">
        <strong>First 5 Factures:</strong>
        <table datatable [dtOptions]="dtOptions" class="row-border hover">
          <thead>
            <tr>
              <th>Etat</th>
              <th>Totale</th>
              <th>Client</th>
              <th>Date</th>
            </tr>
          </thead>
          <tbody>
            <tr  *ngFor="let facture of latestFactures.slice(0, 5)">
              <td>{{ facture.payer ? 'Payé' : 'Non payé' }}</td>
              <td>{{ facture.amount }}</td>
              <td>{{ facture.client.nom }}</td>
              <td>{{ facture.dateFacture | date: 'short' }}</td>
            </tr>
          </tbody>
        </table>
        <div style="display: flex; justify-content: right; padding-right: 50px; padding-top: 20px;">
          <button class="btn btn-primary" (click)="redirectToFactureAdmin()">Autre Factures </button>
        </div>
      </div>
    </div>
  </div>
  
</section>
